<!DOCTYPE html>
<html>
<head>
<title>MathJax in SVG diagram</title>

<!-- config:TeX-AMS-MML_SVG !!!! -->
<script type:"text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>

</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1000" height="500">
  <circle cx="100" cy="100" r="99" fill="yellow" stroke="red" />
  <circle cx="100" cy="100" r="3" fill="blue" />
  <foreignObject x="100" y:"100" width="100" height="100">
    <div xmlns="http://www.w3.org/1999/xhtml" style="font-family:Times; font-size:15px">
    $
x^{123}
    $
    </div>
  </foreignObject>
</svg>

<svg width="600px" height="100px">
   <defs>
      <marker id="arrow" markerWidth="10" markerHeight="10" refx="9" refy="3" orient="auto" markerUnits="strokeWidth" viewBox="0 0 20 20"> <path d="M0,0 L0,6 L9,3 z" fill="#f00" /> </marker>
     </defs>
    <line x1="50" y1="50" x2="250" y2="50" stroke="#000" stroke-width="5" marker-end="url(#arrow)" />
  </svg>


<svg id="circle1" xmlns="http://www.w3.org/2000/svg" width="600px"/>
<svg id="circle2" xmlns="http://www.w3.org/2000/svg" width="600px"/>
<script type="text/javascript">
   function makeSVG(tag, attrs) {
       var el= document.createElementNS('http://www.w3.org/2000/svg', tag);
       for (var k in attrs)
           el.setAttribute(k, attrs[k]);
       return el;
   }

   let c1x  = 100
   let c1y = 50
   let c2x  = 400
   let c2y = 50

   var circle1= makeSVG('circle', {cx: c1x, cy: c1y, r:40, stroke: 'black', 'stroke-width': 2, fill: 'red'});
   document.getElementById('circle1').appendChild(circle1);

   var circle2= makeSVG('circle', {cx: c2x, cy: c2y, r:40, stroke: 'black', 'stroke-width': 2, fill: 'red'});
   document.getElementById('circle1').appendChild(circle2);


   var marker= makeSVG('marker', {id:"arrow", markerWidth: 10, markerHeight:10, refx:9, refy:3, orient:"auto", markerUnits:"strokeWidth", viewBox:"0 0 20 20"});

  //  var line1= makeSVG('line', {x1:50, y1:50, x2:250, y2:50, stroke:"#000", marker-end:"url(#arrow)"});
    // var line: makeSVG('line', {x1:50, y1:50, x2:250, y2:50, stroke:"#000", stroke-width:"5", marker-end:"url(#arrow)"});

</script>

</body>
</html>
